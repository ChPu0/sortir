{% extends 'base.html.twig' %}

{% block title %}
    {{ parent() }} | Liste
{% endblock %}

{% block body %}

    <section class="date-user">
        <div class="text-right font-weight-bold">
            Date du jour : {{ "now" | date('d/m/Y') }}
            <br/>
            Participant : //TODO : user.name
            {{ sortiesInscrits | length }}
        </div>
    </section>

    <section>
        {{ form_start(selectSortieForm) }}

            {{ form_widget(selectSortieForm) }}

        {{ form_end(selectSortieForm) }}
    </section>

    <section>

        <div class="liste-container">
            <table class="table table-striped table-liste-sorties">
                <thead>
                    <tr>
                        <th scope="col">Nom de la sortie</th>
                        <th scope="col">Date de la sortie</th>
                        <th scope="col">Clôture</th>
                        <th scope="col">inscrits/places</th>
                        <th scope="col">Etat</th>
                        <th scope="col">Inscrit</th>
                        <th scope="col">Organisateur</th>
                        <th scope="col">Actions</th>
                    </tr>
                </thead>
                <tbody>
                {% for sortie in sorties %}
                    <tr>
                        <th scope="row">{{ sortie.nom }}</th>
                        <td>{{ sortie.dateHeureDebut | date('d/m/Y') }} {{ sortie.dateHeureDebut | format_datetime('none', 'short', locale='fr') }}</td>
                        <td>{{ sortie.dateLimiteInscription | date('d/m/Y', 'Europe/Paris') }}</td>
                        <td>{{ sortie.inscrits | length }} / {{ sortie.nbInscriptionsMax }}</td>
                        <td>{{ sortie.etat.libelle }}</td>
                        <td>inscrit ? X</td>
                        <td>{{ sortie.organisateur.nom }} {{ sortie.organisateur.prenom }}</td>
                        <td>Actions : Conditions</td>

                    </tr>

                    {% else %}
                        <p>Pas de sorties enregistrées pour le moment</p>
                {% endfor %}
                </tbody>
            </table>
        </div>
        <div class="btn p-3 border border-dark btn-create-sortie">
            <a href="#" title="Aller vers la page de création de sortie">
                Créer une sortie
            </a>
        </div>
    </section>


{% endblock %}